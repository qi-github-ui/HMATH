{
    "problem": "What is the maximum possible value of the greatest common divisor of two consecutive terms of the sequence $a_n = n! + n$, where $n \\ge 0$?",
    "level": "Level 5",
    "type": "Number Theory",
    "solution": "We start by taking the first step in the Euclidean algorithm: subtract the initial two terms. Notice that\n\\begin{align*}a_{n+1} - (n+1)a_n &= (n+1)! + n + 1 - (n+1)(n! + n) \\\\ &= (n+1)! + n + 1 - (n+1)! - n(n+1) \\\\ &= -n^2 + 1 = -(n-1)(n+1).\n\\end{align*}It follows that by the Euclidean Algorithm, \\begin{align*}\\text{gcd}\\,(a_n, a_{n+1}) &= \\text{gcd}\\,(a_n, a_{n+1} - (n+1)a_n)\\\\ &= \\text{gcd}\\,(a_n, (n-1)(n+1)),\\end{align*}since the minus sign is irrelevant for calculating the gcd.\n\nWe know that $n-1$ divides $n!$, so that $n-1$ is relatively prime to $a_n = n! + n$:\n$$\\text{gcd}\\,(n-1,n!+n) = \\text{gcd}\\,(n-1,n) = 1.$$Thus, we can ignore the factor of $n-1$ completely, and say that\n$$\\text{gcd}\\,(a_n,a_{n+1}) = \\text{gcd}\\,(n! + n, n+1).$$Now, we have several cases, depending on whether $n+1$ is prime or composite. We also have a few edge cases to consider. The basic idea is that when $n+1$ is composite and greater than $4$, $n+1$ is a factor of $n!$, whereas when $n+1$ is prime, we can apply Wilson's Theorem.\n\n$\\textit{Case 0:}$ For $n = 0$, we find that $a_0 = 1, a_1 = 2$, with greatest common divisor $1$.\n\n$\\textit{Case composite:}$\n\n$\\qquad \\textit{Subcase 1:}$ If $n+1$ is composite and can be written as the product of two distinct integers greater than $1$ (say $n+1 = a \\times b$, $a > b > 1$), then $n+1$ divides\n$$n! = 1 \\times \\cdots \\times b \\times \\cdots \\times a \\times \\cdots \\times n.$$By the same argument as before, since $n$ and $n+1$ are relatively prime, then $n! + n$ and $n+1$ are relatively prime, yielding a greatest common divisor of $1$.\n\n$\\qquad \\textit{Subcase 2:}$ If $n+1 = p^2$ for some prime $p$, then $n! + n = (p^2 - 1)! + p^2-1$. If $2p < p^2 - 1$, then $p$ and $2p$ are both factors that appear in the expansion of $n!$, so $n+1$ divides $n!$ and the previous argument applies. For $p = 2$, we can quickly check that $3! + 3 = 9$ is relatively prime with $4$.\n\n$\\textit{Case prime:}$ If $n + 1 = p$ for some prime $p$, then $n! + n \\equiv (p-1)! + (p-1) \\equiv -2 \\pmod{p}$ by Wilson's Theorem. Thus, $n! + n$ is relatively prime with $n+1$ unless $n = 1$, for which we obtain $a_1 = 2, a_2 = 4$, with greatest common divisor 2.\n\nSo, the largest the greatest common divisor of two consecutive terms of the sequence $a_n$ can be is $\\boxed{2}$, which is achieved when we take $n=1$.",
    "socratic_questions": "1. Can you explain what consecutive terms are in a sequence?\n2. How can we represent the sequence $a_n = n! + n$ in mathematical notation?\n3. What is the purpose of finding the greatest common divisor (gcd) of two consecutive terms?\n4. Can you explain what the Euclidean Algorithm is and how it is related to finding the gcd?\n5. What does it mean for two numbers to be relatively prime?\n6. How can we apply the Euclidean Algorithm to find the gcd of $a_n$ and $a_{n+1}$?\n7. What happens when we subtract $(n+1)a_n$ from $a_{n+1}$?\n8. How can we simplify the expression $-(n-1)(n+1)$?\n9. Can you explain why we can ignore the factor of $n-1$ when calculating the gcd?\n10. What are the different cases we need to consider based on the value of $n+1$?\n11. Why is it important to consider whether $n+1$ is prime or composite?\n12. How do Wilson's Theorem and the factorization of $n!$ help us determine the gcd in certain cases?\n13. Can you provide an example to illustrate each case and calculate the corresponding gcd?\n14. What is the largest possible value of the gcd based on our findings?"
}